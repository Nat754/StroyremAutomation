{"uid":"722eb2df5fa3f58d","name":"positive_check_discount_displayed_for_unauthorized_customer_for_amount_0-49rub_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_check_discount_for_unauthorized_customer_for_amount_0_49rub_smoke","historyId":"7f4f129a3704d352785ddaeba828a7cd","time":{"start":1699232566396,"stop":1699232591280,"duration":24884},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message:","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7fa59d976b90>\nlink = 'https://test2.stroyrem-nn.ru/catalog/shurupy-po-derevu?price_first=0&price_last=49'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7fa59cf0e910>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_0-49rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHURUPY_PO_DEREVU_PAGE_URL}?price_first=0&price_last=49\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHURUPY_PO_DEREVU_PAGE_URL}?price_first=0&price_last=49\"])\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_0_49rub_smoke(self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(0)\n        product_page_open.get_field_price_last().send_keys(49)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(2)\n        price = (float(product_page_open.get_pc_price().text[:-2]))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n>       total = (float(product_page_open.get_products_total().text[:-2]))\n\ntests/test_products_on_sale/test_products_on_sale_page.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/products_on_sale_page.py:90: in get_products_total\n    return self.element_is_visible(self._products_total)\nbase/seleniumbase.py:34: in element_is_visible\n    return self.__wait.until(EC.visibility_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"da54e8e4b8bc9065a2485a64a6768bde\")>\nmethod = <function visibility_of_element_located.<locals>._predicate at 0x7fa59d6aa3e0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1699231826094,"stop":1699231826213,"duration":119},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"clear_allure_results_folder","time":{"start":1699231826213,"stop":1699231826214,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver","time":{"start":1699232556660,"stop":1699232557581,"duration":921},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"product_page_open","time":{"start":1699232557582,"stop":1699232566396,"duration":8814},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1699232557582,"stop":1699232557582,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message:","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7fa59d976b90>\nlink = 'https://test2.stroyrem-nn.ru/catalog/shurupy-po-derevu?price_first=0&price_last=49'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7fa59cf0e910>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_0-49rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHURUPY_PO_DEREVU_PAGE_URL}?price_first=0&price_last=49\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHURUPY_PO_DEREVU_PAGE_URL}?price_first=0&price_last=49\"])\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_0_49rub_smoke(self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(0)\n        product_page_open.get_field_price_last().send_keys(49)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(2)\n        price = (float(product_page_open.get_pc_price().text[:-2]))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n>       total = (float(product_page_open.get_products_total().text[:-2]))\n\ntests/test_products_on_sale/test_products_on_sale_page.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/products_on_sale_page.py:90: in get_products_total\n    return self.element_is_visible(self._products_total)\nbase/seleniumbase.py:34: in element_is_visible\n    return self.__wait.until(EC.visibility_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"da54e8e4b8bc9065a2485a64a6768bde\")>\nmethod = <function visibility_of_element_located.<locals>._predicate at 0x7fa59d6aa3e0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1699232566397,"stop":1699232566464,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1699232566565,"stop":1699232566619,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'На складе'","time":{"start":1699232567698,"stop":1699232567790,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость цены товара","time":{"start":1699232569856,"stop":1699232569932,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1699232569951,"stop":1699232570060,"duration":109},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1699232570120,"stop":1699232571704,"duration":1584},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Перейти к оформлению'","time":{"start":1699232575095,"stop":1699232575442,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'ФИО'","time":{"start":1699232575511,"stop":1699232575562,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Номер телефона'","time":{"start":1699232575632,"stop":1699232575673,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'E-mail'","time":{"start":1699232575753,"stop":1699232575793,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость кнопки 'Продолжить'","time":{"start":1699232575927,"stop":1699232575965,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Товары на сумму'","time":{"start":1699232576038,"stop":1699232591279,"duration":15241},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \n\n","statusTrace":"  File \"/usr/local/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/app/pages/products_on_sale_page.py\", line 90, in get_products_total\n    return self.element_is_visible(self._products_total)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/base/seleniumbase.py\", line 34, in element_is_visible\n    return self.__wait.until(EC.visibility_of_element_located(locator))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py\", line 95, in until\n    raise TimeoutException(message, screen, stacktrace)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"d5f8b7b4c84a7de7","name":"Screenshot","source":"d5f8b7b4c84a7de7.png","type":"image/png","size":33989},{"uid":"b5bcb3d8d12b36b4","name":"HTML source","source":"b5bcb3d8d12b36b4.html","type":"text/html","size":492395}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"setup::0","time":{"start":1699232591488,"stop":1699232591488,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver::0","time":{"start":1699232591489,"stop":1699232591563,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"flaky(max_runs=3, min_passes=1)"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"7736516add69"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://test2.stroyrem-nn.ru/catalog/shurupy-po-derevu?price_first=0&price_last=49'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":8,"skipped":0,"passed":60,"unknown":0,"total":68},"items":[{"uid":"512402ccfc46a782","reportUrl":"https://Nat754.github.io/StroyremAutomation/116//#testresult/512402ccfc46a782","status":"passed","time":{"start":1699146426579,"stop":1699146435063,"duration":8484}},{"uid":"d04bb96a9217bb8f","reportUrl":"https://Nat754.github.io/StroyremAutomation/115//#testresult/d04bb96a9217bb8f","status":"passed","time":{"start":1699059616688,"stop":1699059624974,"duration":8286}},{"uid":"9c7d397d5dd5d75e","reportUrl":"https://Nat754.github.io/StroyremAutomation/114//#testresult/9c7d397d5dd5d75e","status":"passed","time":{"start":1698973202409,"stop":1698973210358,"duration":7949}},{"uid":"b8ded8a0a1d6982c","reportUrl":"https://Nat754.github.io/StroyremAutomation/113//#testresult/b8ded8a0a1d6982c","status":"passed","time":{"start":1698886925714,"stop":1698886934864,"duration":9150}},{"uid":"3fc724c6e4d62f00","reportUrl":"https://Nat754.github.io/StroyremAutomation/112//#testresult/3fc724c6e4d62f00","status":"passed","time":{"start":1698800836076,"stop":1698800845113,"duration":9037}},{"uid":"9a1def2f438950a4","reportUrl":"https://Nat754.github.io/StroyremAutomation/111//#testresult/9a1def2f438950a4","status":"passed","time":{"start":1698714068838,"stop":1698714077158,"duration":8320}},{"uid":"8efcbc6580224132","reportUrl":"https://Nat754.github.io/StroyremAutomation/110//#testresult/8efcbc6580224132","status":"passed","time":{"start":1698627669478,"stop":1698627677966,"duration":8488}},{"uid":"f7e4b1f80ab6981f","reportUrl":"https://Nat754.github.io/StroyremAutomation/109//#testresult/f7e4b1f80ab6981f","status":"passed","time":{"start":1698541435812,"stop":1698541444523,"duration":8711}},{"uid":"bde36a49e58e374f","reportUrl":"https://Nat754.github.io/StroyremAutomation/108//#testresult/bde36a49e58e374f","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message:","time":{"start":1698454941376,"stop":1698454966657,"duration":25281}},{"uid":"57aeceea1e6a4840","reportUrl":"https://Nat754.github.io/StroyremAutomation/107//#testresult/57aeceea1e6a4840","status":"passed","time":{"start":1698368376574,"stop":1698368385194,"duration":8620}},{"uid":"1a58d97c85ea1e29","reportUrl":"https://Nat754.github.io/StroyremAutomation/106//#testresult/1a58d97c85ea1e29","status":"passed","time":{"start":1698282062225,"stop":1698282071213,"duration":8988}},{"uid":"d1beeb1e0b800e9","reportUrl":"https://Nat754.github.io/StroyremAutomation/105//#testresult/d1beeb1e0b800e9","status":"passed","time":{"start":1698195632030,"stop":1698195640744,"duration":8714}},{"uid":"9f829b5a6c5c4d7e","reportUrl":"https://Nat754.github.io/StroyremAutomation/104//#testresult/9f829b5a6c5c4d7e","status":"passed","time":{"start":1698109321246,"stop":1698109330449,"duration":9203}},{"uid":"b17da71fa71aa483","reportUrl":"https://Nat754.github.io/StroyremAutomation/103//#testresult/b17da71fa71aa483","status":"passed","time":{"start":1698023096268,"stop":1698023106457,"duration":10189}},{"uid":"ebdf106e2f76b500","reportUrl":"https://Nat754.github.io/StroyremAutomation/102//#testresult/ebdf106e2f76b500","status":"passed","time":{"start":1697936641472,"stop":1697936649794,"duration":8322}},{"uid":"7361384e37a0084d","reportUrl":"https://Nat754.github.io/StroyremAutomation/101//#testresult/7361384e37a0084d","status":"passed","time":{"start":1697850178843,"stop":1697850189866,"duration":11023}},{"uid":"64de19c9567412f6","reportUrl":"https://Nat754.github.io/StroyremAutomation/100//#testresult/64de19c9567412f6","status":"passed","time":{"start":1697763672319,"stop":1697763680775,"duration":8456}},{"uid":"d2a78d775eed1b27","reportUrl":"https://Nat754.github.io/StroyremAutomation/99//#testresult/d2a78d775eed1b27","status":"passed","time":{"start":1697677256711,"stop":1697677264710,"duration":7999}},{"uid":"15916e5a2978c5d7","reportUrl":"https://Nat754.github.io/StroyremAutomation/98//#testresult/15916e5a2978c5d7","status":"passed","time":{"start":1697590870748,"stop":1697590879142,"duration":8394}},{"uid":"f5fe2f472678185d","reportUrl":"https://Nat754.github.io/StroyremAutomation/97//#testresult/f5fe2f472678185d","status":"passed","time":{"start":1697504586923,"stop":1697504595628,"duration":8705}}]},"tags":["smoke_test","flaky(max_runs=3, min_passes=1)"]},"source":"722eb2df5fa3f58d.json","parameterValues":["'https://test2.stroyrem-nn.ru/catalog/shurupy-po-derevu?price_first=0&price_last=49'"]}