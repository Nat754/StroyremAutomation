{"uid":"2f79246de43e0d59","name":"positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke","historyId":"6c6513eb0cdbeb8cfcb6aa8a59b40c6b","time":{"start":1719969390610,"stop":1719969401557,"duration":10947},"status":"failed","statusMessage":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f13c75f9510>\nlink = 'https://test2.stroyrem-nn.ru/catalog/shlifovalnye-mashiny'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f13c7735310>\n\n    @allure.title(\"positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\"])\n    @pytest.mark.smoke_test\n    def test_positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke(\n            self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(3500)\n        product_page_open.get_field_price_last().send_keys(4999)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(5)\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        total = (float(product_page_open.get_total_current_price().text[:-2].replace(' ', '')))\n        cart_total = (float(product_page_open.get_cart_total().text[:-2].replace(' ', '')))\n        discount = float(product_page_open.get_cart_discount().text[:-2].replace(' ', ''))\n        assert total == price - round(price * 0.015, 2) == cart_total, \\\n            f\"ОР: Суммы равны, ФР: Cтоимость товара в каталоге: {price} в корзине: {cart_total} и со скидкой:{total}\"\n>       assert discount == round(price * 0.015, 2), \\\n            f\"ОР: Скидка за объем = {round(price * 0.015, 2)}, ФР: скидка = {discount}\"\nE       AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nE       assert 61.4 == 61.39\nE        +  where 61.39 = round((4093.0 * 0.015), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:310: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1719968125601,"stop":1719968125667,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_allure_results_folder","time":{"start":1719968125667,"stop":1719968125667,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"driver","time":{"start":1719969379492,"stop":1719969380183,"duration":691},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"product_page_open","time":{"start":1719969380183,"stop":1719969390610,"duration":10427},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1719969380183,"stop":1719969380183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f13c75f9510>\nlink = 'https://test2.stroyrem-nn.ru/catalog/shlifovalnye-mashiny'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f13c7735310>\n\n    @allure.title(\"positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\"])\n    @pytest.mark.smoke_test\n    def test_positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke(\n            self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(3500)\n        product_page_open.get_field_price_last().send_keys(4999)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(5)\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        total = (float(product_page_open.get_total_current_price().text[:-2].replace(' ', '')))\n        cart_total = (float(product_page_open.get_cart_total().text[:-2].replace(' ', '')))\n        discount = float(product_page_open.get_cart_discount().text[:-2].replace(' ', ''))\n        assert total == price - round(price * 0.015, 2) == cart_total, \\\n            f\"ОР: Суммы равны, ФР: Cтоимость товара в каталоге: {price} в корзине: {cart_total} и со скидкой:{total}\"\n>       assert discount == round(price * 0.015, 2), \\\n            f\"ОР: Скидка за объем = {round(price * 0.015, 2)}, ФР: скидка = {discount}\"\nE       AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nE       assert 61.4 == 61.39\nE        +  where 61.39 = round((4093.0 * 0.015), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:310: AssertionError","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1719969390611,"stop":1719969390642,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1719969390689,"stop":1719969390717,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'На складе'","time":{"start":1719969391751,"stop":1719969391796,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость цены товара","time":{"start":1719969396828,"stop":1719969396867,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1719969396877,"stop":1719969396922,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1719969396951,"stop":1719969398499,"duration":1548},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость суммы Товара в корзине ","time":{"start":1719969401423,"stop":1719969401514,"duration":91},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость значения поля 'Товары на сумму'","time":{"start":1719969401524,"stop":1719969401538,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость значения поля 'Скидка за объём'","time":{"start":1719969401544,"stop":1719969401551,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"c5f375ae06bbb371","name":"Screenshot","source":"c5f375ae06bbb371.png","type":"image/png","size":74533},{"uid":"f542ce4e42793669","name":"HTML source","source":"f542ce4e42793669.html","type":"text/html","size":493832}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":9,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1719969401699,"stop":1719969401779,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup::0","time":{"start":1719969401699,"stop":1719969401699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"flaky(max_runs=3, min_passes=1)"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"f3159710353e"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://test2.stroyrem-nn.ru/catalog/shlifovalnye-mashiny'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":35,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":35},"items":[{"uid":"4e985aeda601e64c","reportUrl":"https://Nat754.github.io/StroyremAutomation/356//#testresult/4e985aeda601e64c","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719882976177,"stop":1719882987141,"duration":10964}},{"uid":"2c9d2930e3016608","reportUrl":"https://Nat754.github.io/StroyremAutomation/355//#testresult/2c9d2930e3016608","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719796798316,"stop":1719796809380,"duration":11064}},{"uid":"eeb2f222b5e84392","reportUrl":"https://Nat754.github.io/StroyremAutomation/354//#testresult/eeb2f222b5e84392","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719710322577,"stop":1719710333068,"duration":10491}},{"uid":"6e9626a4e624c7f1","reportUrl":"https://Nat754.github.io/StroyremAutomation/353//#testresult/6e9626a4e624c7f1","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719623618218,"stop":1719623629032,"duration":10814}},{"uid":"616c898826ee907f","reportUrl":"https://Nat754.github.io/StroyremAutomation/352//#testresult/616c898826ee907f","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719537531940,"stop":1719537542891,"duration":10951}},{"uid":"3aeb69a95455c8fb","reportUrl":"https://Nat754.github.io/StroyremAutomation/351//#testresult/3aeb69a95455c8fb","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719450923418,"stop":1719450933644,"duration":10226}},{"uid":"e125123748662b00","reportUrl":"https://Nat754.github.io/StroyremAutomation/350//#testresult/e125123748662b00","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719364455994,"stop":1719364466808,"duration":10814}},{"uid":"8e460f7ae6f9c60b","reportUrl":"https://Nat754.github.io/StroyremAutomation/349//#testresult/8e460f7ae6f9c60b","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719278316045,"stop":1719278328266,"duration":12221}},{"uid":"e29a2a50c506edf7","reportUrl":"https://Nat754.github.io/StroyremAutomation/348//#testresult/e29a2a50c506edf7","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719191842529,"stop":1719191853642,"duration":11113}},{"uid":"f429bb4abf236dc","reportUrl":"https://Nat754.github.io/StroyremAutomation/347//#testresult/f429bb4abf236dc","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719105559097,"stop":1719105569953,"duration":10856}},{"uid":"572abef42fed85ca","reportUrl":"https://Nat754.github.io/StroyremAutomation/346//#testresult/572abef42fed85ca","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1719018991833,"stop":1719019003187,"duration":11354}},{"uid":"2e7d27fea9cd8d40","reportUrl":"https://Nat754.github.io/StroyremAutomation/345//#testresult/2e7d27fea9cd8d40","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1718932732848,"stop":1718932744515,"duration":11667}},{"uid":"5ca69dd2e45ae54b","reportUrl":"https://Nat754.github.io/StroyremAutomation/344//#testresult/5ca69dd2e45ae54b","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1718845993627,"stop":1718846005591,"duration":11964}},{"uid":"e3e94546a8823688","reportUrl":"https://Nat754.github.io/StroyremAutomation/343//#testresult/e3e94546a8823688","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1718759993835,"stop":1718760006267,"duration":12432}},{"uid":"8d2db42bddea8149","reportUrl":"https://Nat754.github.io/StroyremAutomation/342//#testresult/8d2db42bddea8149","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1718673340022,"stop":1718673350668,"duration":10646}},{"uid":"4a43d4d7ec81cc85","reportUrl":"https://Nat754.github.io/StroyremAutomation/341//#testresult/4a43d4d7ec81cc85","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1718587263494,"stop":1718587275701,"duration":12207}},{"uid":"af5c474a4c014c9","reportUrl":"https://Nat754.github.io/StroyremAutomation/340//#testresult/af5c474a4c014c9","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1718500962705,"stop":1718500974428,"duration":11723}},{"uid":"cd7839e427d79eb2","reportUrl":"https://Nat754.github.io/StroyremAutomation/339//#testresult/cd7839e427d79eb2","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1718414333462,"stop":1718414345848,"duration":12386}},{"uid":"3bd05d7ca80cc02d","reportUrl":"https://Nat754.github.io/StroyremAutomation/338//#testresult/3bd05d7ca80cc02d","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1718327820178,"stop":1718327831324,"duration":11146}},{"uid":"f03a254ce1a8631a","reportUrl":"https://Nat754.github.io/StroyremAutomation/337//#testresult/f03a254ce1a8631a","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1718241419888,"stop":1718241431462,"duration":11574}}]},"tags":["smoke_test","flaky(max_runs=3, min_passes=1)"]},"source":"2f79246de43e0d59.json","parameterValues":["'https://test2.stroyrem-nn.ru/catalog/shlifovalnye-mashiny'"]}