{"uid":"65c5913757380e73","name":"positive_check_discount_displayed_for_unauthorized_customer_for_amount_15000rub_and_above_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_check_discount_for_unauthorized_customer_for_amount_15000rub_and_above_smoke","historyId":"80c9c9998dd6f0127b9f082013ee4f02","time":{"start":1695344341552,"stop":1695344348269,"duration":6717},"status":"skipped","statusMessage":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f255c16d750>\nlink = 'https://stroyrem-nn.ru/catalog/rastvoronasosy'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f255c6d3250>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_15000rub_and_above_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORONASOSY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORONASOSY_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\")\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_15000rub_and_above_smoke(self, link,\n                                                                                                   product_page_open):\n        product_page_open.get_field_price_first().send_keys(15000)\n        product_page_open.get_field_price_last().click()\n        time.sleep(1)\n        product_page_open.get_add_to_cart_btn().click()\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        time.sleep(2)\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n        total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n        discount = (float(product_page_open.get_discount_price().text[:-2].replace(' ', '')))\n>       assert total == round(price * 0.95, 2), (f\"ОР: Стоимость товара = {round(price * 0.95, 2)},\"\n                                                 f\"ФР: стоимость товара = {total}\")\nE       AssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nE       assert 931117.86 == 931117.8\nE        +  where 931117.8 = round((980124.0 * 0.95), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:80: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1695343654353,"stop":1695343654429,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"clear_allure_results_folder","time":{"start":1695343654429,"stop":1695343654430,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver","time":{"start":1695344335722,"stop":1695344336532,"duration":810},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1695344336532,"stop":1695344336532,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"product_page_open","time":{"start":1695344336532,"stop":1695344341552,"duration":5020},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f255c16d750>\nlink = 'https://stroyrem-nn.ru/catalog/rastvoronasosy'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f255c6d3250>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_15000rub_and_above_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORONASOSY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORONASOSY_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\")\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_15000rub_and_above_smoke(self, link,\n                                                                                                   product_page_open):\n        product_page_open.get_field_price_first().send_keys(15000)\n        product_page_open.get_field_price_last().click()\n        time.sleep(1)\n        product_page_open.get_add_to_cart_btn().click()\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        time.sleep(2)\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n        total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n        discount = (float(product_page_open.get_discount_price().text[:-2].replace(' ', '')))\n>       assert total == round(price * 0.95, 2), (f\"ОР: Стоимость товара = {round(price * 0.95, 2)},\"\n                                                 f\"ФР: стоимость товара = {total}\")\nE       AssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nE       assert 931117.86 == 931117.8\nE        +  where 931117.8 = round((980124.0 * 0.95), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:80: AssertionError","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1695344341553,"stop":1695344341589,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1695344341666,"stop":1695344341700,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1695344342749,"stop":1695344342817,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость цены товара","time":{"start":1695344342857,"stop":1695344342909,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1695344344922,"stop":1695344344953,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Перейти к оформлению'","time":{"start":1695344347591,"stop":1695344347812,"duration":221},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'ФИО'","time":{"start":1695344347858,"stop":1695344347891,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Номер телефона'","time":{"start":1695344347939,"stop":1695344347966,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'E-mail'","time":{"start":1695344348025,"stop":1695344348057,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость кнопки 'Продолжить'","time":{"start":1695344348117,"stop":1695344348146,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Товары на сумму'","time":{"start":1695344348193,"stop":1695344348227,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость значения поля 'Скидка'","time":{"start":1695344348234,"stop":1695344348262,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[{"uid":"c3058c7e157f2b90","name":"Screenshot","source":"c3058c7e157f2b90.png","type":"image/png","size":37857},{"uid":"a24d970e9c3519ed","name":"HTML source","source":"a24d970e9c3519ed.html","type":"text/html","size":510521}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1695344348415,"stop":1695344348477,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup::0","time":{"start":1695344348415,"stop":1695344348415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"@pytest.mark.xfail(reason='Ждем исправление бага - Разная цена товара в каталоге и на карточке товара')"},{"name":"tag","value":"flaky(max_runs=3, min_passes=1)"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"24180ba8a084"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://stroyrem-nn.ru/catalog/rastvoronasosy'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":69,"passed":0,"unknown":0,"total":69},"items":[{"uid":"1a78bf7d9157df35","reportUrl":"https://Nat754.github.io/StroyremAutomation/70//#testresult/1a78bf7d9157df35","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695257921766,"stop":1695257928738,"duration":6972}},{"uid":"a310434d2379c037","reportUrl":"https://Nat754.github.io/StroyremAutomation/69//#testresult/a310434d2379c037","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695171925718,"stop":1695171933838,"duration":8120}},{"uid":"f264934d922b8786","reportUrl":"https://Nat754.github.io/StroyremAutomation/68//#testresult/f264934d922b8786","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695085254651,"stop":1695085261867,"duration":7216}},{"uid":"e7f6a73c60554644","reportUrl":"https://Nat754.github.io/StroyremAutomation/67//#testresult/e7f6a73c60554644","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695063791290,"stop":1695063799505,"duration":8215}},{"uid":"a5de93257314ec24","reportUrl":"https://Nat754.github.io/StroyremAutomation/66//#testresult/a5de93257314ec24","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695060557700,"stop":1695060564371,"duration":6671}},{"uid":"c1e16a7e77e9dc1","reportUrl":"https://Nat754.github.io/StroyremAutomation/66//#testresult/c1e16a7e77e9dc1","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694998593828,"stop":1694998600597,"duration":6769}},{"uid":"bbc2334b7379e9cb","reportUrl":"https://Nat754.github.io/StroyremAutomation/65//#testresult/bbc2334b7379e9cb","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694929552382,"stop":1694929559721,"duration":7339}},{"uid":"691ee1607dd1a0e1","reportUrl":"https://Nat754.github.io/StroyremAutomation/65//#testresult/691ee1607dd1a0e1","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694912449828,"stop":1694912457251,"duration":7423}},{"uid":"88aedf28773654b6","reportUrl":"https://Nat754.github.io/StroyremAutomation/64//#testresult/88aedf28773654b6","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694825751053,"stop":1694825758527,"duration":7474}},{"uid":"c8bd9c7d29372068","reportUrl":"https://Nat754.github.io/StroyremAutomation/63//#testresult/c8bd9c7d29372068","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694739494551,"stop":1694739502252,"duration":7701}},{"uid":"9e3dbb56ac1d9965","reportUrl":"https://Nat754.github.io/StroyremAutomation/62//#testresult/9e3dbb56ac1d9965","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694653022169,"stop":1694653028851,"duration":6682}},{"uid":"81f9eb309a686fe2","reportUrl":"https://Nat754.github.io/StroyremAutomation/61//#testresult/81f9eb309a686fe2","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694638001765,"stop":1694638008391,"duration":6626}},{"uid":"841e4be1e34fc147","reportUrl":"https://Nat754.github.io/StroyremAutomation/61//#testresult/841e4be1e34fc147","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694580807338,"stop":1694580815490,"duration":8152}},{"uid":"39d3e00276519554","reportUrl":"https://Nat754.github.io/StroyremAutomation/61//#testresult/39d3e00276519554","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694566703092,"stop":1694566709977,"duration":6885}},{"uid":"e23a412f1fb6ed1a","reportUrl":"https://Nat754.github.io/StroyremAutomation/60//#testresult/e23a412f1fb6ed1a","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694504795663,"stop":1694504803767,"duration":8104}},{"uid":"6e7c1313d6148b67","reportUrl":"https://Nat754.github.io/StroyremAutomation/60//#testresult/6e7c1313d6148b67","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694480323328,"stop":1694480331531,"duration":8203}},{"uid":"51a3b35726514190","reportUrl":"https://Nat754.github.io/StroyremAutomation/59//#testresult/51a3b35726514190","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694433927050,"stop":1694433933930,"duration":6880}},{"uid":"f3b726501e5cc9d3","reportUrl":"https://Nat754.github.io/StroyremAutomation/57//#testresult/f3b726501e5cc9d3","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694431165058,"stop":1694431172212,"duration":7154}},{"uid":"d7b2bbb41f1bc78b","reportUrl":"https://Nat754.github.io/StroyremAutomation/58//#testresult/d7b2bbb41f1bc78b","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694431077249,"stop":1694431084176,"duration":6927}},{"uid":"18f49ff71d32301f","reportUrl":"https://Nat754.github.io/StroyremAutomation/56//#testresult/18f49ff71d32301f","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == (980124.0 - 49006.2)\n +  where 49006.2 = round((980124.0 * 0.05), 2)","time":{"start":1694429689495,"stop":1694429698648,"duration":9153}}]},"tags":["smoke_test","@pytest.mark.xfail(reason='Ждем исправление бага - Разная цена товара в каталоге и на карточке товара')","flaky(max_runs=3, min_passes=1)"]},"source":"65c5913757380e73.json","parameterValues":["'https://stroyrem-nn.ru/catalog/rastvoronasosy'"]}