{"uid":"72aab56cd5665fd4","name":"positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke","historyId":"6c6513eb0cdbeb8cfcb6aa8a59b40c6b","time":{"start":1724721533980,"stop":1724721544708,"duration":10728},"status":"failed","statusMessage":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7ff66ee259d0>\nlink = 'https://test2.stroyrem-nn.ru/catalog/shlifovalnye-mashiny'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7ff66f6ec110>\n\n    @allure.title(\"positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\"])\n    @pytest.mark.smoke_test\n    def test_positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke(\n            self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(3500)\n        product_page_open.get_field_price_last().send_keys(4999)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(5)\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        total = (float(product_page_open.get_total_current_price().text[:-2].replace(' ', '')))\n        cart_total = (float(product_page_open.get_cart_total().text[:-2].replace(' ', '')))\n        discount = float(product_page_open.get_cart_discount().text[:-2].replace(' ', ''))\n        assert total == price - round(price * 0.015, 2) == cart_total, \\\n            f\"ОР: Суммы равны, ФР: Cтоимость товара в каталоге: {price} в корзине: {cart_total} и со скидкой:{total}\"\n>       assert discount == round(price * 0.015, 2), \\\n            f\"ОР: Скидка за объем = {round(price * 0.015, 2)}, ФР: скидка = {discount}\"\nE       AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nE       assert 61.4 == 61.39\nE        +  where 61.39 = round((4093.0 * 0.015), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:310: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1724720313296,"stop":1724720313366,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"clear_allure_results_folder","time":{"start":1724720313366,"stop":1724720313366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"driver","time":{"start":1724721523976,"stop":1724721524772,"duration":796},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"setup","time":{"start":1724721524772,"stop":1724721524772,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"product_page_open","time":{"start":1724721524772,"stop":1724721533980,"duration":9208},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7ff66ee259d0>\nlink = 'https://test2.stroyrem-nn.ru/catalog/shlifovalnye-mashiny'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7ff66f6ec110>\n\n    @allure.title(\"positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\"])\n    @pytest.mark.smoke_test\n    def test_positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke(\n            self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(3500)\n        product_page_open.get_field_price_last().send_keys(4999)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(5)\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        total = (float(product_page_open.get_total_current_price().text[:-2].replace(' ', '')))\n        cart_total = (float(product_page_open.get_cart_total().text[:-2].replace(' ', '')))\n        discount = float(product_page_open.get_cart_discount().text[:-2].replace(' ', ''))\n        assert total == price - round(price * 0.015, 2) == cart_total, \\\n            f\"ОР: Суммы равны, ФР: Cтоимость товара в каталоге: {price} в корзине: {cart_total} и со скидкой:{total}\"\n>       assert discount == round(price * 0.015, 2), \\\n            f\"ОР: Скидка за объем = {round(price * 0.015, 2)}, ФР: скидка = {discount}\"\nE       AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nE       assert 61.4 == 61.39\nE        +  where 61.39 = round((4093.0 * 0.015), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:310: AssertionError","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1724721533981,"stop":1724721534011,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1724721534060,"stop":1724721534085,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем кликабельность кнопки 'На складе'","time":{"start":1724721535125,"stop":1724721535165,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость цены товара","time":{"start":1724721540195,"stop":1724721540245,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1724721540258,"stop":1724721540299,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1724721540328,"stop":1724721541875,"duration":1547},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость суммы Товара в корзине ","time":{"start":1724721544576,"stop":1724721544663,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость значения поля 'Товары на сумму'","time":{"start":1724721544680,"stop":1724721544689,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость значения поля 'Скидка за объём'","time":{"start":1724721544695,"stop":1724721544702,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[{"uid":"69f5be4e21fcb85","name":"Screenshot","source":"69f5be4e21fcb85.png","type":"image/png","size":70561},{"uid":"32e97284e0f3f3f5","name":"HTML source","source":"32e97284e0f3f3f5.html","type":"text/html","size":494581}],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"stepsCount":9,"attachmentsCount":2},"afterStages":[{"name":"setup::0","time":{"start":1724721544822,"stop":1724721544822,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"driver::0","time":{"start":1724721544823,"stop":1724721544932,"duration":109},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"flaky(max_runs=3, min_passes=1)"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"50aefef0c1ca"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://test2.stroyrem-nn.ru/catalog/shlifovalnye-mashiny'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":89,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":89},"items":[{"uid":"9255c396f961f9bd","reportUrl":"https://Nat754.github.io/StroyremAutomation/411//#testresult/9255c396f961f9bd","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1724635152166,"stop":1724635163466,"duration":11300}},{"uid":"d149e31e8bbb46b0","reportUrl":"https://Nat754.github.io/StroyremAutomation/410//#testresult/d149e31e8bbb46b0","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1724549065472,"stop":1724549077008,"duration":11536}},{"uid":"d30d267d658c02df","reportUrl":"https://Nat754.github.io/StroyremAutomation/409//#testresult/d30d267d658c02df","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1724462319617,"stop":1724462331054,"duration":11437}},{"uid":"1bfdd9216c1bd59e","reportUrl":"https://Nat754.github.io/StroyremAutomation/407//#testresult/1bfdd9216c1bd59e","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1724289647419,"stop":1724289659901,"duration":12482}},{"uid":"cce43852f0c21464","reportUrl":"https://Nat754.github.io/StroyremAutomation/406//#testresult/cce43852f0c21464","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1724203307045,"stop":1724203318992,"duration":11947}},{"uid":"94b2ef92b9ca2705","reportUrl":"https://Nat754.github.io/StroyremAutomation/405//#testresult/94b2ef92b9ca2705","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1724116979270,"stop":1724116991214,"duration":11944}},{"uid":"381cdb808152d3cb","reportUrl":"https://Nat754.github.io/StroyremAutomation/404//#testresult/381cdb808152d3cb","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1724030254033,"stop":1724030264661,"duration":10628}},{"uid":"103edc3710851b1e","reportUrl":"https://Nat754.github.io/StroyremAutomation/403//#testresult/103edc3710851b1e","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723944125373,"stop":1723944136822,"duration":11449}},{"uid":"9162f8604f1a69b8","reportUrl":"https://Nat754.github.io/StroyremAutomation/402//#testresult/9162f8604f1a69b8","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723857336271,"stop":1723857347677,"duration":11406}},{"uid":"602f84567956ddb4","reportUrl":"https://Nat754.github.io/StroyremAutomation/401//#testresult/602f84567956ddb4","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723771061933,"stop":1723771072748,"duration":10815}},{"uid":"44ce720c8b60930a","reportUrl":"https://Nat754.github.io/StroyremAutomation/400//#testresult/44ce720c8b60930a","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723684552634,"stop":1723684563815,"duration":11181}},{"uid":"9a49579459da7d7d","reportUrl":"https://Nat754.github.io/StroyremAutomation/399//#testresult/9a49579459da7d7d","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723598236679,"stop":1723598247489,"duration":10810}},{"uid":"592b3a2cc2ef8928","reportUrl":"https://Nat754.github.io/StroyremAutomation/398//#testresult/592b3a2cc2ef8928","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723512164381,"stop":1723512176352,"duration":11971}},{"uid":"c60b17f575890a88","reportUrl":"https://Nat754.github.io/StroyremAutomation/397//#testresult/c60b17f575890a88","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723425598167,"stop":1723425609011,"duration":10844}},{"uid":"96e505bb6e7f0c29","reportUrl":"https://Nat754.github.io/StroyremAutomation/396//#testresult/96e505bb6e7f0c29","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723339602893,"stop":1723339614762,"duration":11869}},{"uid":"f949977f689a940","reportUrl":"https://Nat754.github.io/StroyremAutomation/395//#testresult/f949977f689a940","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723252585271,"stop":1723252595988,"duration":10717}},{"uid":"379129d90a1ef916","reportUrl":"https://Nat754.github.io/StroyremAutomation/394//#testresult/379129d90a1ef916","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723166223533,"stop":1723166234298,"duration":10765}},{"uid":"59c46914ae88d4cd","reportUrl":"https://Nat754.github.io/StroyremAutomation/393//#testresult/59c46914ae88d4cd","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1723079821789,"stop":1723079832669,"duration":10880}},{"uid":"85f6d14125c600fa","reportUrl":"https://Nat754.github.io/StroyremAutomation/392//#testresult/85f6d14125c600fa","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1722993545016,"stop":1722993560453,"duration":15437}},{"uid":"7d0aca4a669c585f","reportUrl":"https://Nat754.github.io/StroyremAutomation/391//#testresult/7d0aca4a669c585f","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 61.39, ФР: скидка = 61.4\nassert 61.4 == 61.39\n +  where 61.39 = round((4093.0 * 0.015), 2)","time":{"start":1722906984136,"stop":1722906995083,"duration":10947}}]},"tags":["smoke_test","flaky(max_runs=3, min_passes=1)"]},"source":"72aab56cd5665fd4.json","parameterValues":["'https://test2.stroyrem-nn.ru/catalog/shlifovalnye-mashiny'"]}