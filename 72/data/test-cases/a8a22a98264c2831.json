{"uid":"a8a22a98264c2831","name":"positive_check_discount_displayed_for_unauthorized_customer_for_amount_15000rub_and_above_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_check_discount_for_unauthorized_customer_for_amount_15000rub_and_above_smoke","historyId":"80c9c9998dd6f0127b9f082013ee4f02","time":{"start":1695430825730,"stop":1695430833903,"duration":8173},"status":"skipped","statusMessage":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f02932b8f50>\nlink = 'https://stroyrem-nn.ru/catalog/rastvoronasosy'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f0292871410>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_15000rub_and_above_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORONASOSY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORONASOSY_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\")\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_15000rub_and_above_smoke(self, link,\n                                                                                                   product_page_open):\n        product_page_open.get_field_price_first().send_keys(15000)\n        product_page_open.get_field_price_last().click()\n        time.sleep(1)\n        product_page_open.get_add_to_cart_btn().click()\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        time.sleep(2)\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n        total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n        discount = (float(product_page_open.get_discount_price().text[:-2].replace(' ', '')))\n>       assert total == round(price * 0.95, 2), (f\"ОР: Стоимость товара = {round(price * 0.95, 2)},\"\n                                                 f\"ФР: стоимость товара = {total}\")\nE       AssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nE       assert 931117.86 == 931117.8\nE        +  where 931117.8 = round((980124.0 * 0.95), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:80: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1695429932810,"stop":1695429932924,"duration":114},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"clear_allure_results_folder","time":{"start":1695429932924,"stop":1695429932924,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver","time":{"start":1695430817953,"stop":1695430818837,"duration":884},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1695430818837,"stop":1695430818837,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"product_page_open","time":{"start":1695430818838,"stop":1695430825730,"duration":6892},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f02932b8f50>\nlink = 'https://stroyrem-nn.ru/catalog/rastvoronasosy'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f0292871410>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_15000rub_and_above_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORONASOSY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORONASOSY_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\")\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_15000rub_and_above_smoke(self, link,\n                                                                                                   product_page_open):\n        product_page_open.get_field_price_first().send_keys(15000)\n        product_page_open.get_field_price_last().click()\n        time.sleep(1)\n        product_page_open.get_add_to_cart_btn().click()\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        time.sleep(2)\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n        total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n        discount = (float(product_page_open.get_discount_price().text[:-2].replace(' ', '')))\n>       assert total == round(price * 0.95, 2), (f\"ОР: Стоимость товара = {round(price * 0.95, 2)},\"\n                                                 f\"ФР: стоимость товара = {total}\")\nE       AssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nE       assert 931117.86 == 931117.8\nE        +  where 931117.8 = round((980124.0 * 0.95), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:80: AssertionError","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1695430825731,"stop":1695430825797,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1695430825894,"stop":1695430825948,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1695430827013,"stop":1695430827109,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость цены товара","time":{"start":1695430827168,"stop":1695430827244,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1695430829259,"stop":1695430829300,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Перейти к оформлению'","time":{"start":1695430832929,"stop":1695430833215,"duration":286},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'ФИО'","time":{"start":1695430833283,"stop":1695430833333,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Номер телефона'","time":{"start":1695430833412,"stop":1695430833454,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'E-mail'","time":{"start":1695430833534,"stop":1695430833565,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость кнопки 'Продолжить'","time":{"start":1695430833675,"stop":1695430833723,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Товары на сумму'","time":{"start":1695430833793,"stop":1695430833850,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость значения поля 'Скидка'","time":{"start":1695430833860,"stop":1695430833892,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[{"uid":"991ed337aeab475a","name":"Screenshot","source":"991ed337aeab475a.png","type":"image/png","size":37839},{"uid":"5f5f4e3bb7a19f6d","name":"HTML source","source":"5f5f4e3bb7a19f6d.html","type":"text/html","size":510529}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"setup::0","time":{"start":1695430834089,"stop":1695430834089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver::0","time":{"start":1695430834089,"stop":1695430834155,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"@pytest.mark.xfail(reason='Ждем исправление бага - Разная цена товара в каталоге и на карточке товара')"},{"name":"tag","value":"flaky(max_runs=3, min_passes=1)"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"7545aa0c3f0d"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://stroyrem-nn.ru/catalog/rastvoronasosy'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":71,"passed":0,"unknown":0,"total":71},"items":[{"uid":"9418d3431f894308","reportUrl":"https://Nat754.github.io/StroyremAutomation/71//#testresult/9418d3431f894308","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695406138789,"stop":1695406147515,"duration":8726}},{"uid":"65c5913757380e73","reportUrl":"https://Nat754.github.io/StroyremAutomation/71//#testresult/65c5913757380e73","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695344341552,"stop":1695344348269,"duration":6717}},{"uid":"1a78bf7d9157df35","reportUrl":"https://Nat754.github.io/StroyremAutomation/70//#testresult/1a78bf7d9157df35","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695257921766,"stop":1695257928738,"duration":6972}},{"uid":"a310434d2379c037","reportUrl":"https://Nat754.github.io/StroyremAutomation/69//#testresult/a310434d2379c037","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695171925718,"stop":1695171933838,"duration":8120}},{"uid":"f264934d922b8786","reportUrl":"https://Nat754.github.io/StroyremAutomation/68//#testresult/f264934d922b8786","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695085254651,"stop":1695085261867,"duration":7216}},{"uid":"e7f6a73c60554644","reportUrl":"https://Nat754.github.io/StroyremAutomation/67//#testresult/e7f6a73c60554644","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695063791290,"stop":1695063799505,"duration":8215}},{"uid":"a5de93257314ec24","reportUrl":"https://Nat754.github.io/StroyremAutomation/66//#testresult/a5de93257314ec24","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1695060557700,"stop":1695060564371,"duration":6671}},{"uid":"c1e16a7e77e9dc1","reportUrl":"https://Nat754.github.io/StroyremAutomation/66//#testresult/c1e16a7e77e9dc1","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694998593828,"stop":1694998600597,"duration":6769}},{"uid":"bbc2334b7379e9cb","reportUrl":"https://Nat754.github.io/StroyremAutomation/65//#testresult/bbc2334b7379e9cb","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694929552382,"stop":1694929559721,"duration":7339}},{"uid":"691ee1607dd1a0e1","reportUrl":"https://Nat754.github.io/StroyremAutomation/65//#testresult/691ee1607dd1a0e1","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694912449828,"stop":1694912457251,"duration":7423}},{"uid":"88aedf28773654b6","reportUrl":"https://Nat754.github.io/StroyremAutomation/64//#testresult/88aedf28773654b6","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694825751053,"stop":1694825758527,"duration":7474}},{"uid":"c8bd9c7d29372068","reportUrl":"https://Nat754.github.io/StroyremAutomation/63//#testresult/c8bd9c7d29372068","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694739494551,"stop":1694739502252,"duration":7701}},{"uid":"9e3dbb56ac1d9965","reportUrl":"https://Nat754.github.io/StroyremAutomation/62//#testresult/9e3dbb56ac1d9965","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694653022169,"stop":1694653028851,"duration":6682}},{"uid":"81f9eb309a686fe2","reportUrl":"https://Nat754.github.io/StroyremAutomation/61//#testresult/81f9eb309a686fe2","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694638001765,"stop":1694638008391,"duration":6626}},{"uid":"841e4be1e34fc147","reportUrl":"https://Nat754.github.io/StroyremAutomation/61//#testresult/841e4be1e34fc147","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694580807338,"stop":1694580815490,"duration":8152}},{"uid":"39d3e00276519554","reportUrl":"https://Nat754.github.io/StroyremAutomation/61//#testresult/39d3e00276519554","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694566703092,"stop":1694566709977,"duration":6885}},{"uid":"e23a412f1fb6ed1a","reportUrl":"https://Nat754.github.io/StroyremAutomation/60//#testresult/e23a412f1fb6ed1a","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694504795663,"stop":1694504803767,"duration":8104}},{"uid":"6e7c1313d6148b67","reportUrl":"https://Nat754.github.io/StroyremAutomation/60//#testresult/6e7c1313d6148b67","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694480323328,"stop":1694480331531,"duration":8203}},{"uid":"51a3b35726514190","reportUrl":"https://Nat754.github.io/StroyremAutomation/59//#testresult/51a3b35726514190","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694433927050,"stop":1694433933930,"duration":6880}},{"uid":"f3b726501e5cc9d3","reportUrl":"https://Nat754.github.io/StroyremAutomation/57//#testresult/f3b726501e5cc9d3","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1694431165058,"stop":1694431172212,"duration":7154}}]},"tags":["smoke_test","@pytest.mark.xfail(reason='Ждем исправление бага - Разная цена товара в каталоге и на карточке товара')","flaky(max_runs=3, min_passes=1)"]},"source":"a8a22a98264c2831.json","parameterValues":["'https://stroyrem-nn.ru/catalog/rastvoronasosy'"]}