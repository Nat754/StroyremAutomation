{"uid":"2d64d21afb520a60","name":"positive_check_discount_displayed_for_unauthorized_customer_for_amount_7500_9999rub_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_check_there_is_no_discount_for_unauthorized_customer_on_order_page_for_red_prices_smoke","historyId":"dad3617134a119815037f972e0359b9c","time":{"start":1694431356857,"stop":1694431382269,"duration":25412},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message:","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f53fe505990>\nlink = 'https://test2.stroyrem-nn.ru/catalog/action'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f53fe3fd610>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_7500_9999rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{ACTION_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{ACTION_PAGE_URL}\"])\n    @pytest.mark.smoke_test\n    def test_positive_check_there_is_no_discount_for_unauthorized_customer_on_order_page_for_red_prices_smoke(\n            self, link, product_page_open):\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(1)\n        product_page_open.get_text_red_link().click()\n        time.sleep(5)\n        product_page_open.get_add_to_cart_btn().click()\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n>       total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n\ntests/test_products_on_sale/test_products_on_sale_page.py:204: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/products_on_sale_page.py:90: in get_products_total\n    return self.element_is_visible(self._products_total)\nbase/seleniumbase.py:36: in element_is_visible\n    return self.__wait.until(EC.visibility_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"7fb59a982e08158e5a7d8ef6307b7f23\")>\nmethod = <function visibility_of_element_located.<locals>._predicate at 0x7f53feb1f7e0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1694430481325,"stop":1694430481403,"duration":78},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"clear_allure_results_folder","time":{"start":1694430481403,"stop":1694430481403,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver","time":{"start":1694431347508,"stop":1694431348308,"duration":800},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"product_page_open","time":{"start":1694431348308,"stop":1694431356856,"duration":8548},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1694431348308,"stop":1694431348308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message:","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f53fe505990>\nlink = 'https://test2.stroyrem-nn.ru/catalog/action'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f53fe3fd610>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_7500_9999rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{ACTION_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{ACTION_PAGE_URL}\"])\n    @pytest.mark.smoke_test\n    def test_positive_check_there_is_no_discount_for_unauthorized_customer_on_order_page_for_red_prices_smoke(\n            self, link, product_page_open):\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(1)\n        product_page_open.get_text_red_link().click()\n        time.sleep(5)\n        product_page_open.get_add_to_cart_btn().click()\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n>       total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n\ntests/test_products_on_sale/test_products_on_sale_page.py:204: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/products_on_sale_page.py:90: in get_products_total\n    return self.element_is_visible(self._products_total)\nbase/seleniumbase.py:36: in element_is_visible\n    return self.__wait.until(EC.visibility_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"7fb59a982e08158e5a7d8ef6307b7f23\")>\nmethod = <function visibility_of_element_located.<locals>._predicate at 0x7f53feb1f7e0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","steps":[{"name":"Проверяем кликабельность кнопки 'На складе'","time":{"start":1694431356857,"stop":1694431356949,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Красная цена!'","time":{"start":1694431358003,"stop":1694431358066,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1694431363111,"stop":1694431363178,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость цены товара","time":{"start":1694431363215,"stop":1694431363267,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1694431363280,"stop":1694431363631,"duration":351},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Перейти к оформлению'","time":{"start":1694431366545,"stop":1694431366756,"duration":211},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'ФИО'","time":{"start":1694431366799,"stop":1694431366835,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Номер телефона'","time":{"start":1694431366885,"stop":1694431366922,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'E-mail'","time":{"start":1694431366978,"stop":1694431367005,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость кнопки 'Продолжить'","time":{"start":1694431367057,"stop":1694431367085,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Товары на сумму'","time":{"start":1694431367125,"stop":1694431382268,"duration":15143},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \n\n","statusTrace":"  File \"/usr/local/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/app/pages/products_on_sale_page.py\", line 90, in get_products_total\n    return self.element_is_visible(self._products_total)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/base/seleniumbase.py\", line 36, in element_is_visible\n    return self.__wait.until(EC.visibility_of_element_located(locator))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py\", line 95, in until\n    raise TimeoutException(message, screen, stacktrace)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"88f92bf181a99e50","name":"Screenshot","source":"88f92bf181a99e50.png","type":"image/png","size":36830},{"uid":"d08b5f32c5f53294","name":"HTML source","source":"d08b5f32c5f53294.html","type":"text/html","size":498184}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"setup::0","time":{"start":1694431382422,"stop":1694431382422,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver::0","time":{"start":1694431382422,"stop":1694431382492,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"d0faf64b6aaa"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://test2.stroyrem-nn.ru/catalog/action'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":38,"unknown":0,"total":39},"items":[{"uid":"b24ec95cbd32c139","reportUrl":"https://Nat754.github.io/StroyremAutomation/58//#testresult/b24ec95cbd32c139","status":"passed","time":{"start":1694431248419,"stop":1694431258633,"duration":10214}},{"uid":"aa16294ea2c236e4","reportUrl":"https://Nat754.github.io/StroyremAutomation/56//#testresult/aa16294ea2c236e4","status":"passed","time":{"start":1694429851303,"stop":1694429853571,"duration":2268}},{"uid":"9c2d6fc7732aae5b","reportUrl":"https://Nat754.github.io/StroyremAutomation/56//#testresult/9c2d6fc7732aae5b","status":"passed","time":{"start":1694393983475,"stop":1694393985751,"duration":2276}},{"uid":"84ce9b1dc2dcd316","reportUrl":"https://Nat754.github.io/StroyremAutomation/55//#testresult/84ce9b1dc2dcd316","status":"passed","time":{"start":1694381129779,"stop":1694381132055,"duration":2276}},{"uid":"f99c6daf334c5f77","reportUrl":"https://Nat754.github.io/StroyremAutomation/55//#testresult/f99c6daf334c5f77","status":"passed","time":{"start":1694307753206,"stop":1694307755467,"duration":2261}},{"uid":"49b835bc16209557","reportUrl":"https://Nat754.github.io/StroyremAutomation/54//#testresult/49b835bc16209557","status":"passed","time":{"start":1694287100061,"stop":1694287102358,"duration":2297}},{"uid":"458acf9e2c325d3e","reportUrl":"https://Nat754.github.io/StroyremAutomation/54//#testresult/458acf9e2c325d3e","status":"passed","time":{"start":1694221044850,"stop":1694221047175,"duration":2325}},{"uid":"e8e3ff49d8daf454","reportUrl":"https://Nat754.github.io/StroyremAutomation/4//#testresult/e8e3ff49d8daf454","status":"passed","time":{"start":1694196884469,"stop":1694196886788,"duration":2319}},{"uid":"696bad84d49ba85f","reportUrl":"https://Nat754.github.io/StroyremAutomation/53//#testresult/696bad84d49ba85f","status":"passed","time":{"start":1694207351927,"stop":1694207354266,"duration":2339}},{"uid":"1b68932dd1622c23","reportUrl":"https://Nat754.github.io/StroyremAutomation/53//#testresult/1b68932dd1622c23","status":"passed","time":{"start":1694199184028,"stop":1694199186402,"duration":2374}},{"uid":"f47ef54369e7fa62","reportUrl":"https://Nat754.github.io/StroyremAutomation/4//#testresult/f47ef54369e7fa62","status":"passed","time":{"start":1694183817563,"stop":1694183819849,"duration":2286}},{"uid":"d28d7e9f8411cd2e","reportUrl":"https://Nat754.github.io/StroyremAutomation/52//#testresult/d28d7e9f8411cd2e","status":"passed","time":{"start":1694135009364,"stop":1694135016669,"duration":7305}},{"uid":"c9ed0cd94b1260b1","reportUrl":"https://Nat754.github.io/StroyremAutomation/51//#testresult/c9ed0cd94b1260b1","status":"passed","time":{"start":1694048326167,"stop":1694048328528,"duration":2361}},{"uid":"b240e47fbf92da13","reportUrl":"https://Nat754.github.io/StroyremAutomation/50//#testresult/b240e47fbf92da13","status":"passed","time":{"start":1693962422076,"stop":1693962430504,"duration":8428}},{"uid":"4e9055cc676ceeda","reportUrl":"https://Nat754.github.io/StroyremAutomation/49//#testresult/4e9055cc676ceeda","status":"passed","time":{"start":1693875548919,"stop":1693875555903,"duration":6984}},{"uid":"129b698b550ee1dd","reportUrl":"https://Nat754.github.io/StroyremAutomation/48//#testresult/129b698b550ee1dd","status":"passed","time":{"start":1693789585239,"stop":1693789592924,"duration":7685}},{"uid":"8074321d509d0586","reportUrl":"https://Nat754.github.io/StroyremAutomation/3//#testresult/8074321d509d0586","status":"passed","time":{"start":1693730378256,"stop":1693730385601,"duration":7345}},{"uid":"ffe32600fdc3aef7","reportUrl":"https://Nat754.github.io/StroyremAutomation/47//#testresult/ffe32600fdc3aef7","status":"passed","time":{"start":1693731086892,"stop":1693731094704,"duration":7812}},{"uid":"22d3e57dad1bc490","reportUrl":"https://Nat754.github.io/StroyremAutomation/47//#testresult/22d3e57dad1bc490","status":"passed","time":{"start":1693703428887,"stop":1693703437511,"duration":8624}},{"uid":"5b6cf2165f40bb51","reportUrl":"https://Nat754.github.io/StroyremAutomation/46//#testresult/5b6cf2165f40bb51","status":"passed","time":{"start":1693616598851,"stop":1693616607369,"duration":8518}}]},"tags":["smoke_test"]},"source":"2d64d21afb520a60.json","parameterValues":["'https://test2.stroyrem-nn.ru/catalog/action'"]}