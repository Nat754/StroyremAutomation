{"uid":"22ca4121d42f9e5a","name":"positive_discount_for_unauthorized_customer_purchase_amount_5000_to_7499rub_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_discount_for_unauthorized_customer_purchase_amount_5000_to_7499rub_smoke","historyId":"e0d976e55c1c3f57267ef6c33e3c287f","time":{"start":1694135212502,"stop":1694135222669,"duration":10167},"status":"skipped","statusMessage":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","statusTrace":"self = <test_products_on_sale_page.TestProductsOnSalePage object at 0x7f2f041ead10>\nlink = 'https://stroyrem-nn.ru/catalog/rastvornye-pistolety-sopla'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f2f0497cd50>\n\n    @allure.title(\"positive_discount_for_unauthorized_customer_purchase_amount_5000_to_7499rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORNYE_PISTOLETY_SOPLA_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORNYE_PISTOLETY_SOPLA_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем уточнение о способе округления скидки и стоимости товара\")\n    @pytest.mark.smoke_test\n    def test_positive_discount_for_unauthorized_customer_purchase_amount_5000_to_7499rub_smoke(\n            self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(5000)\n        product_page_open.get_field_price_last().send_keys(7499)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(5)\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        total = (float(product_page_open.get_total_current_price().text[:-2].replace(' ', '')))\n        cart_total = (float(product_page_open.get_cart_total().text[:-2].replace(' ', '')))\n        discount = float(product_page_open.get_cart_discount().text[:-2].replace(' ', ''))\n        assert total == price - round(price * 0.025, 2) == cart_total, \\\n            f\"ОР: Суммы равны, ФР: Cтоимость товара в каталоге: {price} в корзине: {cart_total} и со скидкой:{total}\"\n>       assert discount == round(price * 0.025, 2), \\\n            f\"ОР: Скидка за объем = {round(price * 0.025, 2)}, ФР: скидка = {discount}\"\nE       AssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nE       assert 172.13 == 172.12\nE        +  where 172.12 = round((6885.0 * 0.025), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:356: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1694133974391,"stop":1694133974473,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"clear_allure_results_folder","time":{"start":1694133974473,"stop":1694133974474,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"driver","time":{"start":1694135202529,"stop":1694135203318,"duration":789},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"product_page_open","time":{"start":1694135203318,"stop":1694135212502,"duration":9184},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"setup","time":{"start":1694135203318,"stop":1694135203318,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","statusTrace":"self = <test_products_on_sale_page.TestProductsOnSalePage object at 0x7f2f041ead10>\nlink = 'https://stroyrem-nn.ru/catalog/rastvornye-pistolety-sopla'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f2f0497cd50>\n\n    @allure.title(\"positive_discount_for_unauthorized_customer_purchase_amount_5000_to_7499rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORNYE_PISTOLETY_SOPLA_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORNYE_PISTOLETY_SOPLA_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем уточнение о способе округления скидки и стоимости товара\")\n    @pytest.mark.smoke_test\n    def test_positive_discount_for_unauthorized_customer_purchase_amount_5000_to_7499rub_smoke(\n            self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(5000)\n        product_page_open.get_field_price_last().send_keys(7499)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(5)\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        total = (float(product_page_open.get_total_current_price().text[:-2].replace(' ', '')))\n        cart_total = (float(product_page_open.get_cart_total().text[:-2].replace(' ', '')))\n        discount = float(product_page_open.get_cart_discount().text[:-2].replace(' ', ''))\n        assert total == price - round(price * 0.025, 2) == cart_total, \\\n            f\"ОР: Суммы равны, ФР: Cтоимость товара в каталоге: {price} в корзине: {cart_total} и со скидкой:{total}\"\n>       assert discount == round(price * 0.025, 2), \\\n            f\"ОР: Скидка за объем = {round(price * 0.025, 2)}, ФР: скидка = {discount}\"\nE       AssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nE       assert 172.13 == 172.12\nE        +  where 172.12 = round((6885.0 * 0.025), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:356: AssertionError","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1694135212502,"stop":1694135212546,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1694135212644,"stop":1694135212687,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Проверяем кликабельность кнопки 'На складе'","time":{"start":1694135213788,"stop":1694135213848,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Проверяем видимость цены товара","time":{"start":1694135218895,"stop":1694135218959,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1694135218972,"stop":1694135219033,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1694135219071,"stop":1694135219423,"duration":352},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Проверяем видимость суммы Товара в корзине ","time":{"start":1694135222451,"stop":1694135222607,"duration":156},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Проверяем видимость значения поля 'Товары на сумму'","time":{"start":1694135222618,"stop":1694135222628,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Проверяем видимость значения поля 'Скидка за объём'","time":{"start":1694135222641,"stop":1694135222658,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[{"uid":"2cbea465288ce7e4","name":"Screenshot","source":"2cbea465288ce7e4.png","type":"image/png","size":83444},{"uid":"b6df3dfe1cc65cb1","name":"HTML source","source":"b6df3dfe1cc65cb1.html","type":"text/html","size":505607}],"parameters":[],"stepsCount":9,"attachmentsCount":2,"hasContent":true,"shouldDisplayMessage":true},"afterStages":[{"name":"setup::0","time":{"start":1694135222871,"stop":1694135222871,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"driver::0","time":{"start":1694135222871,"stop":1694135222940,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"@pytest.mark.xfail(reason='Ждем уточнение о способе округления скидки и стоимости товара')"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"9ae92618fc98"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://stroyrem-nn.ru/catalog/rastvornye-pistolety-sopla'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":23,"passed":0,"unknown":0,"total":23},"items":[{"uid":"f0c136de5ad338c2","reportUrl":"https://Nat754.github.io/StroyremAutomation/51//#testresult/f0c136de5ad338c2","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1694048472067,"stop":1694048481856,"duration":9789}},{"uid":"24784c37c3a22654","reportUrl":"https://Nat754.github.io/StroyremAutomation/50//#testresult/24784c37c3a22654","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693962643961,"stop":1693962654871,"duration":10910}},{"uid":"d11aa2b509f5b0d3","reportUrl":"https://Nat754.github.io/StroyremAutomation/49//#testresult/d11aa2b509f5b0d3","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693875730196,"stop":1693875739935,"duration":9739}},{"uid":"13a5a1cf97d9944","reportUrl":"https://Nat754.github.io/StroyremAutomation/48//#testresult/13a5a1cf97d9944","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693789795429,"stop":1693789805750,"duration":10321}},{"uid":"84093ff4be7b4379","reportUrl":"https://Nat754.github.io/StroyremAutomation/3//#testresult/84093ff4be7b4379","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693730540632,"stop":1693730550193,"duration":9561}},{"uid":"82c9b1663ca0538e","reportUrl":"https://Nat754.github.io/StroyremAutomation/47//#testresult/82c9b1663ca0538e","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693731294467,"stop":1693731305054,"duration":10587}},{"uid":"820ee034b58a1cdb","reportUrl":"https://Nat754.github.io/StroyremAutomation/47//#testresult/820ee034b58a1cdb","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693703654414,"stop":1693703665197,"duration":10783}},{"uid":"15db79f7c9d020d1","reportUrl":"https://Nat754.github.io/StroyremAutomation/46//#testresult/15db79f7c9d020d1","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693616828618,"stop":1693616839712,"duration":11094}},{"uid":"cc7b28cdce8bc2e","reportUrl":"https://Nat754.github.io/StroyremAutomation/45//#testresult/cc7b28cdce8bc2e","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693530716529,"stop":1693530727349,"duration":10820}},{"uid":"b659858166a4247b","reportUrl":"https://Nat754.github.io/StroyremAutomation/2//#testresult/b659858166a4247b","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693476593348,"stop":1693476604218,"duration":10870}},{"uid":"a8720de2129374e9","reportUrl":"https://Nat754.github.io/StroyremAutomation/44//#testresult/a8720de2129374e9","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693443970441,"stop":1693443980953,"duration":10512}},{"uid":"61a24b388e6723ed","reportUrl":"https://Nat754.github.io/StroyremAutomation/43//#testresult/61a24b388e6723ed","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693357679496,"stop":1693357690655,"duration":11159}},{"uid":"46bb94922ceabaf3","reportUrl":"https://Nat754.github.io/StroyremAutomation/42//#testresult/46bb94922ceabaf3","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693300485125,"stop":1693300495313,"duration":10188}},{"uid":"5770e5caeae7f12a","reportUrl":"https://Nat754.github.io/StroyremAutomation/41//#testresult/5770e5caeae7f12a","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693298665678,"stop":1693298676728,"duration":11050}},{"uid":"9a9ef8ffbd735e5d","reportUrl":"https://Nat754.github.io/StroyremAutomation/41//#testresult/9a9ef8ffbd735e5d","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693270915240,"stop":1693270924840,"duration":9600}},{"uid":"63d55b0ca07cb044","reportUrl":"https://Nat754.github.io/StroyremAutomation/40//#testresult/63d55b0ca07cb044","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693244148938,"stop":1693244160016,"duration":11078}},{"uid":"5c2b03bcba3ad006","reportUrl":"https://Nat754.github.io/StroyremAutomation/40//#testresult/5c2b03bcba3ad006","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693184612788,"stop":1693184622353,"duration":9565}},{"uid":"a163e18b0df94958","reportUrl":"https://Nat754.github.io/StroyremAutomation/39//#testresult/a163e18b0df94958","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693170722370,"stop":1693170732534,"duration":10164}},{"uid":"13e1bb9262c3cf35","reportUrl":"https://Nat754.github.io/StroyremAutomation/39//#testresult/13e1bb9262c3cf35","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693140838982,"stop":1693140848808,"duration":9826}},{"uid":"56ae45950be352ea","reportUrl":"https://Nat754.github.io/StroyremAutomation/39//#testresult/56ae45950be352ea","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка за объем = 172.12, ФР: скидка = 172.125\nassert 172.125 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1693098278995,"stop":1693098289340,"duration":10345}}]},"tags":["@pytest.mark.xfail(reason='Ждем уточнение о способе округления скидки и стоимости товара')","smoke_test"]},"source":"22ca4121d42f9e5a.json","parameterValues":["'https://stroyrem-nn.ru/catalog/rastvornye-pistolety-sopla'"]}