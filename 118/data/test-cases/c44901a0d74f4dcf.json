{"uid":"c44901a0d74f4dcf","name":"positive_check_discount_displayed_for_unauthorized_customer_for_amount_15000rub_and_above_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_check_discount_for_unauthorized_customer_for_amount_15000rub_and_above_smoke","historyId":"80c9c9998dd6f0127b9f082013ee4f02","time":{"start":1699318932042,"stop":1699318938446,"duration":6404},"status":"skipped","statusMessage":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f00c77b5550>\nlink = 'https://stroyrem-nn.ru/catalog/rastvoronasosy'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f00c5a98510>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_15000rub_and_above_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORONASOSY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORONASOSY_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\")\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_15000rub_and_above_smoke(self, link,\n                                                                                                   product_page_open):\n        product_page_open.get_field_price_first().send_keys(15000)\n        product_page_open.get_field_price_last().click()\n        time.sleep(1)\n        product_page_open.get_add_to_cart_btn().click()\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        time.sleep(2)\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n        total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n        discount = (float(product_page_open.get_discount_price().text[:-2].replace(' ', '')))\n>       assert total == round(price * 0.95, 2), (f\"ОР: Стоимость товара = {round(price * 0.95, 2)},\"\n                                                 f\"ФР: стоимость товара = {total}\")\nE       AssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nE       assert 931117.86 == 931117.8\nE        +  where 931117.8 = round((980124.0 * 0.95), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:80: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1699318174606,"stop":1699318174673,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"clear_allure_results_folder","time":{"start":1699318174673,"stop":1699318174674,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver","time":{"start":1699318926773,"stop":1699318927547,"duration":774},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1699318927547,"stop":1699318927547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"product_page_open","time":{"start":1699318927548,"stop":1699318932042,"duration":4494},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f00c77b5550>\nlink = 'https://stroyrem-nn.ru/catalog/rastvoronasosy'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f00c5a98510>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_15000rub_and_above_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORONASOSY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORONASOSY_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\")\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_15000rub_and_above_smoke(self, link,\n                                                                                                   product_page_open):\n        product_page_open.get_field_price_first().send_keys(15000)\n        product_page_open.get_field_price_last().click()\n        time.sleep(1)\n        product_page_open.get_add_to_cart_btn().click()\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        time.sleep(2)\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n        total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n        discount = (float(product_page_open.get_discount_price().text[:-2].replace(' ', '')))\n>       assert total == round(price * 0.95, 2), (f\"ОР: Стоимость товара = {round(price * 0.95, 2)},\"\n                                                 f\"ФР: стоимость товара = {total}\")\nE       AssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nE       assert 931117.86 == 931117.8\nE        +  where 931117.8 = round((980124.0 * 0.95), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:80: AssertionError","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1699318932042,"stop":1699318932072,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1699318932126,"stop":1699318932153,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1699318933192,"stop":1699318933241,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость цены товара","time":{"start":1699318933271,"stop":1699318933306,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1699318935317,"stop":1699318935343,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем кликабельность кнопки 'Перейти к оформлению'","time":{"start":1699318937923,"stop":1699318938082,"duration":159},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'ФИО'","time":{"start":1699318938115,"stop":1699318938141,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Номер телефона'","time":{"start":1699318938180,"stop":1699318938202,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'E-mail'","time":{"start":1699318938242,"stop":1699318938267,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость кнопки 'Продолжить'","time":{"start":1699318938317,"stop":1699318938340,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость поля 'Товары на сумму'","time":{"start":1699318938380,"stop":1699318938404,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем видимость значения поля 'Скидка'","time":{"start":1699318938413,"stop":1699318938440,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[{"uid":"7eee3b2fd08b7ccf","name":"Screenshot","source":"7eee3b2fd08b7ccf.png","type":"image/png","size":37439},{"uid":"5ac16ecbe20c3f48","name":"HTML source","source":"5ac16ecbe20c3f48.html","type":"text/html","size":495211}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"setup::0","time":{"start":1699318938573,"stop":1699318938573,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver::0","time":{"start":1699318938574,"stop":1699318938641,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"@pytest.mark.xfail(reason='Ждем исправление бага - Разная цена товара в каталоге и на карточке товара')"},{"name":"tag","value":"flaky(max_runs=3, min_passes=1)"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"effde869711b"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://stroyrem-nn.ru/catalog/rastvoronasosy'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":118,"passed":0,"unknown":0,"total":118},"items":[{"uid":"3ef3a1ae6221aa81","reportUrl":"https://Nat754.github.io/StroyremAutomation/117//#testresult/3ef3a1ae6221aa81","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1699232635176,"stop":1699232642559,"duration":7383}},{"uid":"be8484704c6ebac1","reportUrl":"https://Nat754.github.io/StroyremAutomation/116//#testresult/be8484704c6ebac1","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1699146484793,"stop":1699146491837,"duration":7044}},{"uid":"6cd0012c722aa792","reportUrl":"https://Nat754.github.io/StroyremAutomation/115//#testresult/6cd0012c722aa792","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1699059668512,"stop":1699059675373,"duration":6861}},{"uid":"108418062294baf","reportUrl":"https://Nat754.github.io/StroyremAutomation/114//#testresult/108418062294baf","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698973249920,"stop":1698973256149,"duration":6229}},{"uid":"db25916301a4d1d2","reportUrl":"https://Nat754.github.io/StroyremAutomation/113//#testresult/db25916301a4d1d2","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698886982067,"stop":1698886989292,"duration":7225}},{"uid":"3cc50adf96974902","reportUrl":"https://Nat754.github.io/StroyremAutomation/112//#testresult/3cc50adf96974902","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698800897886,"stop":1698800905336,"duration":7450}},{"uid":"852699ef816d1354","reportUrl":"https://Nat754.github.io/StroyremAutomation/111//#testresult/852699ef816d1354","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698714118921,"stop":1698714125802,"duration":6881}},{"uid":"96211905ad55b1aa","reportUrl":"https://Nat754.github.io/StroyremAutomation/110//#testresult/96211905ad55b1aa","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698627719842,"stop":1698627726716,"duration":6874}},{"uid":"e70a10607305012","reportUrl":"https://Nat754.github.io/StroyremAutomation/109//#testresult/e70a10607305012","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698541489692,"stop":1698541496568,"duration":6876}},{"uid":"8546bb4304b6fdc9","reportUrl":"https://Nat754.github.io/StroyremAutomation/108//#testresult/8546bb4304b6fdc9","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1698455022169,"stop":1698455045909,"duration":23740}},{"uid":"12c78e961022b77","reportUrl":"https://Nat754.github.io/StroyremAutomation/107//#testresult/12c78e961022b77","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698368427841,"stop":1698368434972,"duration":7131}},{"uid":"cb89d33681b2a26d","reportUrl":"https://Nat754.github.io/StroyremAutomation/106//#testresult/cb89d33681b2a26d","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698282118717,"stop":1698282126311,"duration":7594}},{"uid":"63965b867e6257be","reportUrl":"https://Nat754.github.io/StroyremAutomation/105//#testresult/63965b867e6257be","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698195683442,"stop":1698195690535,"duration":7093}},{"uid":"628f4282e2dfebea","reportUrl":"https://Nat754.github.io/StroyremAutomation/104//#testresult/628f4282e2dfebea","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698109394556,"stop":1698109402103,"duration":7547}},{"uid":"21829af5f1bde736","reportUrl":"https://Nat754.github.io/StroyremAutomation/103//#testresult/21829af5f1bde736","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1698023161331,"stop":1698023169386,"duration":8055}},{"uid":"985d5c0060bae8b4","reportUrl":"https://Nat754.github.io/StroyremAutomation/102//#testresult/985d5c0060bae8b4","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1697936691252,"stop":1697936697949,"duration":6697}},{"uid":"9c2a721258272286","reportUrl":"https://Nat754.github.io/StroyremAutomation/101//#testresult/9c2a721258272286","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1697850245812,"stop":1697850254261,"duration":8449}},{"uid":"1ed24e637673b271","reportUrl":"https://Nat754.github.io/StroyremAutomation/100//#testresult/1ed24e637673b271","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1697763722267,"stop":1697763728909,"duration":6642}},{"uid":"c3c3bd6044ebedd5","reportUrl":"https://Nat754.github.io/StroyremAutomation/99//#testresult/c3c3bd6044ebedd5","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1697677304471,"stop":1697677310995,"duration":6524}},{"uid":"9b8c4531ceb9b77e","reportUrl":"https://Nat754.github.io/StroyremAutomation/98//#testresult/9b8c4531ceb9b77e","status":"skipped","statusDetails":"XFAIL Ждем исправление бага - Разная цена товара в каталоге и на карточке товара\n\nAssertionError: ОР: Стоимость товара = 931117.8,ФР: стоимость товара = 931117.86\nassert 931117.86 == 931117.8\n +  where 931117.8 = round((980124.0 * 0.95), 2)","time":{"start":1697590925037,"stop":1697590931873,"duration":6836}}]},"tags":["smoke_test","@pytest.mark.xfail(reason='Ждем исправление бага - Разная цена товара в каталоге и на карточке товара')","flaky(max_runs=3, min_passes=1)"]},"source":"c44901a0d74f4dcf.json","parameterValues":["'https://stroyrem-nn.ru/catalog/rastvoronasosy'"]}