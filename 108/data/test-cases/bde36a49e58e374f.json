{"uid":"bde36a49e58e374f","name":"positive_check_discount_displayed_for_unauthorized_customer_for_amount_0-49rub_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_check_discount_for_unauthorized_customer_for_amount_0_49rub_smoke","historyId":"7f4f129a3704d352785ddaeba828a7cd","time":{"start":1698454941376,"stop":1698454966657,"duration":25281},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message:","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f3c8956aa10>\nlink = 'https://test2.stroyrem-nn.ru/catalog/shurupy-po-derevu?price_first=0&price_last=49'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f3c8856ff90>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_0-49rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHURUPY_PO_DEREVU_PAGE_URL}?price_first=0&price_last=49\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHURUPY_PO_DEREVU_PAGE_URL}?price_first=0&price_last=49\"])\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_0_49rub_smoke(self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(0)\n        product_page_open.get_field_price_last().send_keys(49)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(2)\n        price = (float(product_page_open.get_pc_price().text[:-2]))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n>       total = (float(product_page_open.get_products_total().text[:-2]))\n\ntests/test_products_on_sale/test_products_on_sale_page.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/products_on_sale_page.py:90: in get_products_total\n    return self.element_is_visible(self._products_total)\nbase/seleniumbase.py:34: in element_is_visible\n    return self.__wait.until(EC.visibility_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"03f1c707173b59fa994bca8facf8a8ce\")>\nmethod = <function visibility_of_element_located.<locals>._predicate at 0x7f3c8a72e3e0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1698453971035,"stop":1698453971146,"duration":111},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"clear_allure_results_folder","time":{"start":1698453971146,"stop":1698453971146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"driver","time":{"start":1698454926701,"stop":1698454927641,"duration":940},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"setup","time":{"start":1698454927641,"stop":1698454927642,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"product_page_open","time":{"start":1698454927642,"stop":1698454941375,"duration":13733},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message:","statusTrace":"self = <tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage object at 0x7f3c8956aa10>\nlink = 'https://test2.stroyrem-nn.ru/catalog/shurupy-po-derevu?price_first=0&price_last=49'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f3c8856ff90>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_0-49rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHURUPY_PO_DEREVU_PAGE_URL}?price_first=0&price_last=49\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHURUPY_PO_DEREVU_PAGE_URL}?price_first=0&price_last=49\"])\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_0_49rub_smoke(self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(0)\n        product_page_open.get_field_price_last().send_keys(49)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(2)\n        price = (float(product_page_open.get_pc_price().text[:-2]))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        product_page_open.get_show_modal().click()\n        product_page_open.get_name().send_keys(USER_NAME)\n        product_page_open.get_phone().send_keys(USER_PHONE)\n        product_page_open.get_email().send_keys(USER_EMAIL)\n        product_page_open.get_checkout_to_step_2().click()\n>       total = (float(product_page_open.get_products_total().text[:-2]))\n\ntests/test_products_on_sale/test_products_on_sale_page.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/products_on_sale_page.py:90: in get_products_total\n    return self.element_is_visible(self._products_total)\nbase/seleniumbase.py:34: in element_is_visible\n    return self.__wait.until(EC.visibility_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"03f1c707173b59fa994bca8facf8a8ce\")>\nmethod = <function visibility_of_element_located.<locals>._predicate at 0x7f3c8a72e3e0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1698454941377,"stop":1698454941465,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1698454941560,"stop":1698454941629,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем кликабельность кнопки 'На складе'","time":{"start":1698454942719,"stop":1698454942812,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость цены товара","time":{"start":1698454944896,"stop":1698454944987,"duration":91},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1698454945007,"stop":1698454945132,"duration":125},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1698454945195,"stop":1698454946767,"duration":1572},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем кликабельность кнопки 'Перейти к оформлению'","time":{"start":1698454950370,"stop":1698454950758,"duration":388},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость поля 'ФИО'","time":{"start":1698454950834,"stop":1698454950887,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость поля 'Номер телефона'","time":{"start":1698454950954,"stop":1698454951010,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость поля 'E-mail'","time":{"start":1698454951108,"stop":1698454951154,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость кнопки 'Продолжить'","time":{"start":1698454951278,"stop":1698454951316,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Проверяем видимость поля 'Товары на сумму'","time":{"start":1698454951388,"stop":1698454966656,"duration":15268},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \n\n","statusTrace":"  File \"/usr/local/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/app/pages/products_on_sale_page.py\", line 90, in get_products_total\n    return self.element_is_visible(self._products_total)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/base/seleniumbase.py\", line 34, in element_is_visible\n    return self.__wait.until(EC.visibility_of_element_located(locator))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py\", line 95, in until\n    raise TimeoutException(message, screen, stacktrace)\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0}],"attachments":[{"uid":"22c5228fdd132e8d","name":"Screenshot","source":"22c5228fdd132e8d.png","type":"image/png","size":33989},{"uid":"3977d2b76eff6af9","name":"HTML source","source":"3977d2b76eff6af9.html","type":"text/html","size":491724}],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":2},"afterStages":[{"name":"setup::0","time":{"start":1698454966853,"stop":1698454966853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"driver::0","time":{"start":1698454966853,"stop":1698454966930,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"flaky(max_runs=3, min_passes=1)"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"548fa69c75e2"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://test2.stroyrem-nn.ru/catalog/shurupy-po-derevu?price_first=0&price_last=49'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":7,"skipped":0,"passed":52,"unknown":0,"total":59},"items":[{"uid":"57aeceea1e6a4840","reportUrl":"https://Nat754.github.io/StroyremAutomation/107//#testresult/57aeceea1e6a4840","status":"passed","time":{"start":1698368376574,"stop":1698368385194,"duration":8620}},{"uid":"1a58d97c85ea1e29","reportUrl":"https://Nat754.github.io/StroyremAutomation/106//#testresult/1a58d97c85ea1e29","status":"passed","time":{"start":1698282062225,"stop":1698282071213,"duration":8988}},{"uid":"d1beeb1e0b800e9","reportUrl":"https://Nat754.github.io/StroyremAutomation/105//#testresult/d1beeb1e0b800e9","status":"passed","time":{"start":1698195632030,"stop":1698195640744,"duration":8714}},{"uid":"9f829b5a6c5c4d7e","reportUrl":"https://Nat754.github.io/StroyremAutomation/104//#testresult/9f829b5a6c5c4d7e","status":"passed","time":{"start":1698109321246,"stop":1698109330449,"duration":9203}},{"uid":"b17da71fa71aa483","reportUrl":"https://Nat754.github.io/StroyremAutomation/103//#testresult/b17da71fa71aa483","status":"passed","time":{"start":1698023096268,"stop":1698023106457,"duration":10189}},{"uid":"ebdf106e2f76b500","reportUrl":"https://Nat754.github.io/StroyremAutomation/102//#testresult/ebdf106e2f76b500","status":"passed","time":{"start":1697936641472,"stop":1697936649794,"duration":8322}},{"uid":"7361384e37a0084d","reportUrl":"https://Nat754.github.io/StroyremAutomation/101//#testresult/7361384e37a0084d","status":"passed","time":{"start":1697850178843,"stop":1697850189866,"duration":11023}},{"uid":"64de19c9567412f6","reportUrl":"https://Nat754.github.io/StroyremAutomation/100//#testresult/64de19c9567412f6","status":"passed","time":{"start":1697763672319,"stop":1697763680775,"duration":8456}},{"uid":"d2a78d775eed1b27","reportUrl":"https://Nat754.github.io/StroyremAutomation/99//#testresult/d2a78d775eed1b27","status":"passed","time":{"start":1697677256711,"stop":1697677264710,"duration":7999}},{"uid":"15916e5a2978c5d7","reportUrl":"https://Nat754.github.io/StroyremAutomation/98//#testresult/15916e5a2978c5d7","status":"passed","time":{"start":1697590870748,"stop":1697590879142,"duration":8394}},{"uid":"f5fe2f472678185d","reportUrl":"https://Nat754.github.io/StroyremAutomation/97//#testresult/f5fe2f472678185d","status":"passed","time":{"start":1697504586923,"stop":1697504595628,"duration":8705}},{"uid":"5a5e37ebf74d996d","reportUrl":"https://Nat754.github.io/StroyremAutomation/96//#testresult/5a5e37ebf74d996d","status":"passed","time":{"start":1697418244385,"stop":1697418253261,"duration":8876}},{"uid":"93bc8320f7207898","reportUrl":"https://Nat754.github.io/StroyremAutomation/95//#testresult/93bc8320f7207898","status":"passed","time":{"start":1697331958154,"stop":1697331968246,"duration":10092}},{"uid":"e5c5de40dcc13e2b","reportUrl":"https://Nat754.github.io/StroyremAutomation/94//#testresult/e5c5de40dcc13e2b","status":"passed","time":{"start":1697245633518,"stop":1697245642990,"duration":9472}},{"uid":"51a838a1a75315ad","reportUrl":"https://Nat754.github.io/StroyremAutomation/93//#testresult/51a838a1a75315ad","status":"passed","time":{"start":1697158981536,"stop":1697158989697,"duration":8161}},{"uid":"56ce4b22c1659b29","reportUrl":"https://Nat754.github.io/StroyremAutomation/92//#testresult/56ce4b22c1659b29","status":"passed","time":{"start":1697072447256,"stop":1697072456924,"duration":9668}},{"uid":"c13dccb2ab845832","reportUrl":"https://Nat754.github.io/StroyremAutomation/91//#testresult/c13dccb2ab845832","status":"passed","time":{"start":1696986031139,"stop":1696986039415,"duration":8276}},{"uid":"1a85878e5d8bb119","reportUrl":"https://Nat754.github.io/StroyremAutomation/90//#testresult/1a85878e5d8bb119","status":"passed","time":{"start":1696899596493,"stop":1696899605970,"duration":9477}},{"uid":"e806dd5216ad4f94","reportUrl":"https://Nat754.github.io/StroyremAutomation/89//#testresult/e806dd5216ad4f94","status":"passed","time":{"start":1696813147047,"stop":1696813155396,"duration":8349}},{"uid":"299dbc28baf6342c","reportUrl":"https://Nat754.github.io/StroyremAutomation/88//#testresult/299dbc28baf6342c","status":"passed","time":{"start":1696727249088,"stop":1696727259200,"duration":10112}}]},"tags":["smoke_test","flaky(max_runs=3, min_passes=1)"]},"source":"bde36a49e58e374f.json","parameterValues":["'https://test2.stroyrem-nn.ru/catalog/shurupy-po-derevu?price_first=0&price_last=49'"]}